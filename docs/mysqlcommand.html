<!DOCTYPE html>
<html>
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Ness PHP Framework | Docs</title>
        <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="assets/fnt-aw/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="assets/css/style.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <!--Load highlightjs package -->
        <link rel="stylesheet" href="assets/js/highlightjs/styles/vs2015.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

    <body>

        <div class="wrapper">
             <!-- Sidebar  -->
             <nav id="sidebar">

                <div id="sidebar-header" class="text-center">
                    <br>
                    <a href="index.html" id="logo-area-link">
                        <img src="assets/img/nessphp_bordered.png" alt="Ness PHP Documentation" width="70%"/>
                        <h3>Ness PHP</h3>
                        <h4>Documentation</h4>
                    </a>
                    <a href="index.html" class="btn btn-light btn-sm" style="width: 100%;">
                        <i class="fa fa-angle-left" aria-hidden="true"></i>  Back
                    </a>
                </div>
                <br>
                <!--Load LATER-->
                <div id="sidebar-loader" class="sidebar-contents">
                </div>
            </nav>


                <div id="content">
                   
                   
                    <!--Nabvar:start-->
                    <nav class="navbar navbar-expand-lg">
                        <div class="container-fluid">
                            <button id="sidebarCollapse" class="btn-circle">
                                <i class="fa fa-bars" aria-hidden="true"></i>
                            </button>

                            <ul class="nav navbar-nav">
                                <li class="nav-item">
                                    <a href="index.html" class="navbar-text-header">
                                        Ness PHP Framework
                                    </a>
                                </li>
                            </ul>
                        
                            <button class="btn-circle d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#headernav-links" aria-controls="headernav-links" aria-expanded="false" aria-label="Toggle Menu">
                                <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
                            </button>
                            <div class="collapse navbar-collapse" id="headernav-links">
                                <ul class="nav navbar-nav ml-auto">
                                    <li class="nav-item">
                                        <a class="nav-link " href="https://nessphp.github.io/">
                                            <i class="fa fa-terminal" aria-hidden="true"></i>
                                            Ness PHP
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link " href="https://github.com/nessphp/application">
                                            <i class="fa fa-github" aria-hidden="true"></i> 
                                            GitHub
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="support.html">
                                            <i class="fa fa-heart" aria-hidden="true"></i>
                                            Support
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </nav>
                    <!--Nabvar:end-->


                    <!-- ========================content:start======================== -->
                    <div id="holder">    
                        <span class="pageheader">MySql Database Commands</span>
                        <br>

                        This library is used to run your queries.

                        <div class="row">
                            <div class="col-lg-8">
                                <ul class="hash-toc">
                                    <li>Methods
                                        <ul>
                                                <li><a href="#create-command">Create a Command</a></li>
                                                <li><a href="#set-parameter">Set Parameters</a></li>
                                                <li><a href="#fetch-all">Fetch All</a></li>
                                                <li><a href="#fetch">Fetch</a></li>
                                                <li><a href="#rowcount">Count Rows</a></li>
                                                <li><a href="#lastid">Last Inserted Id</a></li>
                                                <li><a href="#execute">Execute a Command</a></li>
                                                <li><a href="#example">Example</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>

                            <!--Required Namespace -->
                            <div class="col-lg-4">
                                <div class="card bg-dark text-white">
                                    <div class="card-header">Required Namespace</div>
                                    <div class="card-body" >
                                        <ul class="tree">
                                            <li style="color:#28A745;">Ness
                                                <ul>
                                                    <li style="color:#fff;">Autopulse
                                                        <ul><li>MySqlCommand</li></ul>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                        <hr>
                                        <span><small>You can include this library to your code file by typing the below code;</small></span>
                                        <br><br>
                                        <span style="color:#3490CF;">use</span> 
                                        <span style="color:#28A745;">Ness\Autopulse</span>\MySqlCommand
                                        
                                    </div> 
                                </div>
                            </div>
                            <!--end: Required Namespace -->
                        </div>

                        <br><br>
                        <!--start: topic-->
                        <h4>Methods <small><a href="#content">#top</a></small></h4>
                        <p>
                             <!---->
                       <h5 id="create-command">Create Command</h5>
                       <pre><code class="php">$cmd = new MySqlCommand(String $command, dbConnect | MySqlConnect  $source);</code></pre>
                       <table class="code-desc">
                       <tr>
                           <td colspan="3">You need create an instance of MySqlCommand library for your commands. You can define your command when creating a MySqlCommand instance</td>
                       </tr>
                       <tr>
                           <td>Return</td>
                           <td colspan="2">Command Object</td>
                       </tr>
                       <tr>
                           <td>Parameters</td>
                           <td colspan="2">$command String; Command to run <br> $source Connection Source; MySqlConnect or dbConnect connection source; ex: $connection->Source();</td>
                       </tr>
                       </table><br>
                       <b>Example: <br></b>
                       <pre>
                           <code class="php">$cmd = new MySqlCommand("select * from db", $mysqlconnection->Source());</code>
                       </pre>
                       <br><br>






                        <!---->
                        <h5 id="set-parameter">Set Parameters</h5>
                        <pre><code class="php">$cmd->SetParameter(  String  $param,  String   $value,  $type = null)</code></pre>
                        <table class="code-desc">
                        <tr>
                            <td colspan="3">This function is used when you use parameterized queries.</td>
                        </tr>
                        <tr>
                            <td>Return</td>
                            <td colspan="2">Void</td>
                        </tr>
                        <tr>
                            <td>Parameters</td>
                            <td colspan="2">$param String; Parameter id <br>
                                            $value Type; Parameter value <br>
                                            $type PDO Parameter type;PDO::Parameter_TYPE.</td>
                        </tr>
                        </table><br>
                        <b>Example: <br></b>
                        <pre>
                            <code class="php">
$cmd = new MySqlCommand("select * from user where status=:status",$myconnnection->Source());
$cmd->setParameter(":status", "active");
$data = $cmd->FetchAll();
                            </code>
                        </pre>
                        <br><br>





                        <!---->
                       <h5 id="fetch-all">Fetch All</h5>
                       <pre><code class="php">$cmd->FetchAll();</code></pre>
                       <table class="code-desc">
                       <tr>
                           <td colspan="3">Fetch all records from returned query </td>
                       </tr>
                       <tr>
                           <td>Return</td>
                           <td colspan="2">Array</td>
                       </tr>
                       <tr>
                           <td>Parameters</td>
                           <td colspan="2">None</td>
                       </tr>
                       </table><br>



                       <!---->
                       <h5 id="fetch">Fetch</h5>
                       <pre><code class="php">$cmd->Fetch();</code></pre>
                       <table class="code-desc">
                       <tr>
                           <td colspan="3">Fetch a single record from returned query </td>
                       </tr>
                       <tr>
                           <td>Return</td>
                           <td colspan="2">Array</td>
                       </tr>
                       <tr>
                           <td>Parameters</td>
                           <td colspan="2">None</td>
                       </tr>
                       </table><br>



                       
                       <!---->
                       <h5 id="rowcount">Count Rows</h5>
                       <pre><code class="php">$cmd->RowCount();</code></pre>
                       <table class="code-desc">
                       <tr>
                           <td colspan="3">Count affected rows</td>
                       </tr>
                       <tr>
                           <td>Return</td>
                           <td colspan="2">Integer</td>
                       </tr>
                       <tr>
                           <td>Parameters</td>
                           <td colspan="2">None</td>
                       </tr>
                       </table><br>




                       <!---->
                       <h5 id="lastid">Last Inserted Id</h5>
                       <pre><code class="php">$cmd->LastInsertedID();</code></pre>
                       <table class="code-desc">
                       <tr>
                           <td colspan="3">Return last inserted id</td>
                       </tr>
                       <tr>
                           <td>Return</td>
                           <td colspan="2">Integer</td>
                       </tr>
                       <tr>
                           <td>Parameters</td>
                           <td colspan="2">None</td>
                       </tr>
                       </table><br>



                        <!---->
                        <h5 id="execute">Execute a Command</h5>
                        <pre><code class="php">$cmd->Execute();</code></pre>
                        <table class="code-desc">
                        <tr>
                            <td colspan="3">Execute the command in constructor.</td>
                        </tr>
                        <tr>
                            <td>Return</td>
                            <td colspan="2">Array</td>
                        </tr>
                        <tr>
                            <td>Parameters</td>
                            <td colspan="2">None</td>
                        </tr>
                        </table><br>
 
                       
                    </p>
                    <br><br>


                    <h4 id="example">Example: Using ObjectMappers with Database Operations</h4>
                    <p>
                        The database connections may also change during the application's development 
                        process. Instead of searching the entire code for changed information every time, 
                        you can use the ObjectMapper class to define as many connections as you want and 
                        control them from a single point.As mentioned in previous articles, 
                        the Ness PHP Framework's Register function is triggered when app starts. 
                        <br><br>
                        Based on this information, let us define our connection.
                        Open; <br>project_folder/app_config.php and add these lines to Register() function in Application class.


                        <pre>
                            <code class="php">
                                
public function Register()
{
		omap::MapNew("database_1",
                        array("host"=>"localhost",
                              "database"=>"papp",
                              "user"=>"root",
                              "password"=>"myDB_password",
                              "options"=>null));
}
                            </code>
                        </pre>
                        <br><br>
                        Thats all. Let's say we have a Auth controller and LoginAction, and we need to connect our database in AuthController.php controller. Open; project_folder/controller/AuthController.php and do the following;

                        <pre>
                            <code class="php">
                                
use Ness\Controller As plController;
use Ness\Autopulse\MySqlConnect;
use Ness\Autopulse\MySqlCommand;
use Ness\Tool\ObjectMapper as omap;

class AuthController extends plController{

 
	public function IndexAction($param=0)
	{
           $cons = omap::GetValue("database_1");
           $myconnnection = new MySqlConnect($cons["host"],$cons["user"],$cons["password"],$cons["database"]);
           $cmd = new MySqlCommand("select * from user where status=:status",$myconnnection->Source());
           $cmd->Setparameter(":status", "active");
           $data_set = $cmd->FetchAll();
           var_dump($data_set);
            
            
            $this->View->Render("login.html");
	}
}
                            </code>
                        </pre>
                        </p>
                        <br>
                        <!--end: topic-->

                    </div>
                    <!-- ========================content:end======================== -->
                    
                </div>
        </div>
    
       


        <script src="assets/js/bootstrap.min.js"></script>
        <script src="assets/js/nessphp.js"></script>
         <script src="assets/js/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>  
    </body>



</html>